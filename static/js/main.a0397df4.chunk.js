(this["webpackJsonplexart-challenge"]=this["webpackJsonplexart-challenge"]||[]).push([[0],{28:function(t,e,n){},31:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n.n(c),a=n(20),s=n.n(a),i=(n(28),n(1)),u=n.n(i),o=n(4),l=n(6),d=(n(30),n(31),n(0)),b=function(t){var e=t.setIsEditing,n=t.isEditing;return Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{className:"title",children:"ABM Stock"}),Object(d.jsx)("button",{type:"button",onClick:function(){return e(!n)},className:"button is-primary",children:"Add new item"})]})},j=n(5),p=n.n(j),f="https://crudcrud.com/api/e0a4727da7b048aaad2a0222e2a2dcf3/items",m=function(){var t=Object(o.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.a.get(f));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.a.put("".concat(f,"/").concat(e),n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var t=Object(o.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.a.delete("".concat(f,"/").concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(o.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.a.post(f,e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(o.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p.a.get("".concat(f,"/").concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=(n(51),["ID","Quantity","Product Name","Price ($)","Client","Active",""]),N=function(t){var e=t.items,n=t.setters,c=n.setIsEditing,r=n.setItems,a=n.setCurrentDoc,s=n.setIsUpdate,i=n.setIsLoading,l=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,v(e);case 3:n=t.sent,r=n.data,i(!1),a(r),s(!0),c(!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("table",{className:"table is-bordered is-striped table is-hoverable is-fullwidth",children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:y.map((function(t,e){return Object(d.jsx)("th",{children:t},"head".concat(e))}))})}),Object(d.jsx)("tbody",{children:e.map((function(t,n){return Object(d.jsxs)("tr",{children:[Object.values(t).map((function(t,e){return Object(d.jsx)("td",{children:t.name||t},"cell".concat(e))})),Object(d.jsxs)("td",{children:[Object(d.jsx)("button",{type:"button",onClick:function(){return l(t._id)},className:"button is-info is-small",children:"Select"})," ",Object(d.jsx)("button",{type:"button",onClick:function(){return function(t){O(t);var n=e.filter((function(e){return e._id!==t}));r(n)}(t._id)},className:"button is-danger is-small",children:"Delete"})]})]},"row".concat(n))}))})]})},g=n(22),k=n(21),w=n(23),S=(n(52),["_id"]),q=function(t){var e=t.currentDoc,n=t.items,c=t.setters,r=t.isUpdate,a=e.quantity,s=e.price,i=e.product,l=e.client,b=e._id,j=c.setItems,p=c.resetStates,f=function(t,e){var c=n.reduce((function(n,c){return n.push(c._id===e?t:c),n}),[]);j(c),p()},m=function(){var t=Object(o.a)(u.a.mark((function t(e,c){var a,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,h(e,c);case 3:return f(c,e),t.abrupt("return");case 5:return t.next=7,x(c);case 7:a=t.sent,s=a.data,i=s._id,o=Object(w.a)(s,S),j([].concat(Object(k.a)(n),[Object(g.a)({_id:i},o)])),p();case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(d.jsxs)("form",{children:[Object(d.jsxs)("label",{htmlFor:"qnty",className:"label",children:["Quantity",Object(d.jsx)("input",{type:"number",name:"quantity",defaultValue:a,id:"qnty",className:"input",required:!0})]}),Object(d.jsxs)("label",{htmlFor:"prc",className:"label",children:["Price",Object(d.jsx)("input",{type:"number",name:"price",defaultValue:s,id:"prc",className:"input",required:!0})]}),Object(d.jsxs)("label",{htmlFor:"clt",className:"label",children:["Cient",Object(d.jsx)("input",{type:"text",name:"client",defaultValue:l.name,id:"clt",className:"input",required:!0})]}),Object(d.jsxs)("label",{htmlFor:"prdt",className:"label",children:["Product Name",Object(d.jsx)("input",{type:"text",name:"product",defaultValue:i.name,id:"prdt",className:"input",required:!0})]}),Object(d.jsxs)("label",{htmlFor:"status",className:"label",children:[Object(d.jsx)("input",{type:"checkbox",name:"active",defaultChecked:!0,id:"status",className:"checkbox"}),"  Active"]}),Object(d.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault();var e={};e.quantity=document.querySelector("#qnty").value,e.product={name:document.querySelector("#prdt").value},e.price=document.querySelector("#prc").value,e.client={name:document.querySelector("#clt").value},e.active="".concat(document.querySelector("#status").checked),m(b,e)},className:"button is-success",children:"Save"}),"  ",Object(d.jsx)("button",{type:"button",onClick:function(){return p()},className:"button is-danger",children:"Cancel"})]})},I=(n(53),function(){return Object(d.jsx)("div",{className:"loading",children:Object(d.jsxs)("div",{className:"lds-ellipsis",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})});var C=function(){var t={_id:0,quantity:0,product:{name:""},price:0,client:{name:""},active:"true"},e=Object(c.useState)(!1),n=Object(l.a)(e,2),r=n[0],a=n[1],s=Object(c.useState)([]),i=Object(l.a)(s,2),j=i[0],p=i[1],f=Object(c.useState)(t),h=Object(l.a)(f,2),O=h[0],x=h[1],v=Object(c.useState)(!1),y=Object(l.a)(v,2),g=y[0],k=y[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),C=S[0],F=S[1],_=function(){a(!1),x(t),k(!1),F(!1)};return Object(c.useEffect)((function(){try{var t=function(){var t=Object(o.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(!0),t.next=3,m();case 3:e=t.sent,n=e.data,p(n),F(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}catch(e){_()}}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{setIsEditing:a,isEditing:r}),Object(d.jsxs)("div",{className:"content-cntl",children:[r&&Object(d.jsx)(q,{currentDoc:O,items:j,setters:{setItems:p,resetStates:_},isUpdate:g}),!C&&Object(d.jsx)("div",{children:Object(d.jsx)(N,{items:j,setters:{setIsEditing:a,setItems:p,setCurrentDoc:x,setIsUpdate:k,setIsLoading:F}})})]}),C&&Object(d.jsx)(I,{})]})},F=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),F()}},[[54,1,2]]]);
//# sourceMappingURL=main.a0397df4.chunk.js.map